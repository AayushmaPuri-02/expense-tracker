<% layout('layouts/boilerplate') %>
<link rel="stylesheet" href="/css/income-detail.css">

<div class="container my-5">
  

  <div class="income-detail-container">
    
    <a href="/expenses" class="btn btn-sm btn-outline-dark mb-4">← Back to All Incomes</a>
    <h3 class="income-detail-title"><i class="fas fa-wallet me-2"></i> Income Details</h3>

    <div class="income-detail-item">
      <i class="fas fa-rupee-sign"></i>
      <strong>Amount:</strong> ₹<%= income.amount %>
    </div>

    <div class="income-detail-item">
      <i class="fas fa-layer-group"></i>
      <strong>Category:</strong> <%= income.category %>
    </div>

    <div class="income-detail-item">
      <i class="fas fa-align-left"></i>
      <strong>Description:</strong> <%= income.sourceDesc %>
    </div>

    <div class="income-detail-item">
      <i class="fas fa-sticky-note"></i>
      <strong>Note:</strong> <%= income.note || "—" %>
    </div>

    <div class="income-detail-item">
      <i class="fas fa-calendar-alt"></i>
      <strong>Date:</strong>
      <%= income.addedAt ? income.addedAt.toDateString() : "—" %>
    </div>

    <% if (income.receipt && income.receipt.url) { %>
      <div class="income-detail-item">
        <i class="fas fa-file-invoice"></i>
        <strong>Receipt:</strong>
        <a href="<%= income.receipt.url %>" target="_blank">View Receipt</a>
      </div>
    <% } %>

    <div class="income-detail-actions d-flex gap-2">
      <a href="/incomes/<%= income._id %>/edit" class="btn btn-primary">
        <i class="fas fa-edit me-1"></i> Edit
      </a>
      <form action="/incomes/<%= income._id %>?_method=DELETE" method="POST">
        <button class="btn btn-danger">
          <i class="fas fa-trash-alt me-1"></i> Delete
        </button>
      </form>
    </div>
  </div>
</div>